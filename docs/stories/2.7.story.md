# Story 2.7: 빈 상태 UI 및 온보딩

## Status
Draft

## Story
**As a** 사용자,
**I want** 노트가 없을 때 친근한 안내와 온보딩을 받을 수 있도록,
**so that** 앱의 기능을 쉽게 이해하고 첫 노트를 작성할 수 있다

## Acceptance Criteria

1. **빈 상태 UI**
   - 노트가 없을 때 친근한 메시지 표시
   - 첫 노트 작성 유도 버튼
   - 앱의 주요 기능 소개

2. **온보딩 가이드**
   - 첫 방문 시 기능 소개 툴팁
   - 단계별 가이드 제공
   - 온보딩 완료 후 다시 보지 않기 옵션

3. **시각적 요소**
   - 일러스트레이션 또는 아이콘 사용
   - 브랜드 컬러와 일치하는 디자인
   - 반응형 레이아웃

4. **사용자 경험**
   - 온보딩 스킵 옵션 제공
   - 진행 상황 표시
   - 키보드 네비게이션 지원

5. **접근성**
   - 스크린 리더 호환성
   - 적절한 대비율
   - 포커스 관리

## Tasks / Subtasks

- [ ] 빈 상태 UI 컴포넌트 구현 (AC: 1, 3)
  - [ ] EmptyState 컴포넌트 개선
  - [ ] 일러스트레이션 추가
  - [ ] 브랜드 디자인 적용

- [ ] 온보딩 시스템 구현 (AC: 2, 4)
  - [ ] 온보딩 상태 관리
  - [ ] 툴팁 컴포넌트
  - [ ] 진행 상황 표시

- [ ] 온보딩 가이드 콘텐츠 (AC: 2)
  - [ ] 기능 소개 콘텐츠 작성
  - [ ] 단계별 가이드 설계
  - [ ] 이미지/아이콘 준비

- [ ] 사용자 설정 관리 (AC: 2, 4)
  - [ ] 온보딩 완료 상태 저장
  - [ ] 다시 보지 않기 옵션
  - [ ] 온보딩 재시작 기능

- [ ] 접근성 개선 (AC: 5)
  - [ ] 스크린 리더 지원
  - [ ] 키보드 네비게이션
  - [ ] 대비율 검증

- [ ] 단위 테스트 작성
  - [ ] 컴포넌트 테스트
  - [ ] 온보딩 로직 테스트
  - [ ] 접근성 테스트

## Dev Notes

### 데이터 모델
- **user_settings 테이블**: `userId`, `onboardingCompleted`, `onboardingSkipped`
- **로컬 스토리지**: 온보딩 상태 임시 저장

### API 스펙
```typescript
// Server Actions
async function updateOnboardingStatus(userId: string, completed: boolean) {
  // 반환값: { success: boolean, error?: string }
}

async function getOnboardingStatus(userId: string) {
  // 반환값: { success: boolean, data?: { completed: boolean }, error?: string }
}
```

### 컴포넌트 구조
```
components/onboarding/
├── OnboardingProvider.tsx (온보딩 상태 관리)
├── OnboardingTooltip.tsx (툴팁 컴포넌트)
├── OnboardingProgress.tsx (진행 상황)
├── OnboardingGuide.tsx (가이드 콘텐츠)
└── OnboardingSkip.tsx (스킵 버튼)

components/notes/
└── EmptyState.tsx (기존 개선)
```

### 파일 위치
- **Server Action**: `lib/actions/user.ts`
- **컴포넌트**: `components/onboarding/`, `components/notes/`
- **테스트**: `__tests__/onboarding/`, `__tests__/notes/`

### 기술적 제약사항
- React Context를 사용한 상태 관리
- 로컬 스토리지 활용
- Next.js App Router 사용
- shadcn/ui 컴포넌트 활용
- TypeScript 사용

### Testing
- **테스트 위치**: `__tests__/onboarding/`, `__tests__/notes/`
- **테스트 프레임워크**: Jest + React Testing Library
- **테스트 범위**: 
  - 컴포넌트 렌더링 테스트
  - 온보딩 로직 테스트
  - 사용자 상호작용 테스트
  - 접근성 테스트

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-01-14 | 1.0 | 초기 스토리 생성 | Bob (SM) |

## Dev Agent Record

### Agent Model Used
*이 섹션은 개발 에이전트가 구현 중에 채워집니다*

### Debug Log References
*이 섹션은 개발 에이전트가 구현 중에 채워집니다*

### Completion Notes List
*이 섹션은 개발 에이전트가 구현 중에 채워집니다*

### File List
*이 섹션은 개발 에이전트가 구현 중에 채워집니다*

## QA Results
*이 섹션은 QA 에이전트가 검토 후에 채워집니다*


